<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sell Your Device - Mobile Experts Inc</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Material Symbols -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="stylesheet" href="css/chatbot.css">
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#FFD600",
                        "hot-pink": "#FF00FF",
                        "background-light": "#f8f8f5",
                        "background-dark": "#1a1a1a",
                        "gray-light": "#F5F5F5",
                    },
                    fontFamily: {
                        "display": ["Space Grotesk", "sans-serif"]
                    },
                    backgroundImage: {
                        'hero-gradient': 'linear-gradient(135deg, #FF00FF 0%, #FF8C00 100%)',
                    },
                    borderRadius: { "DEFAULT": "0", "lg": "0", "xl": "0", "full": "0" },
                    animation: {
                        'marquee': 'marquee 30s linear infinite',
                        'marquee-slow': 'marquee 45s linear infinite',
                        'glitch': 'glitch 0.2s steps(4)',
                        // 'shake' removed
                        'pop-in': 'pop-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(0)' },
                            '100%': { transform: 'translateX(-50%)' },
                        },
                        glitch: {
                            '0%, 100%': { transform: 'translate(0)' },
                            '25%': { transform: 'translate(-3px, 3px)' },
                            '50%': { transform: 'translate(3px, -3px)' },
                            '75%': { transform: 'translate(-3px, -3px)' },
                        },
                        'pop-in': {
                            '0%': { transform: 'scale(0.8)', opacity: '0' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        }
                    }
                },
            },
        }
    </script>
    <style>
        /* ========================================
           PREMIUM DESIGN SYSTEM
           ======================================== */
        
        /* BASE TRANSITIONS */
        *, *::before, *::after { 
            transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1), 
                        box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1), 
                        background-color 200ms ease-out, 
                        color 200ms ease-out, 
                        border-color 200ms ease-out, 
                        opacity 200ms ease-out; 
        }
        html { scroll-behavior: smooth; }
        
        /* SCROLLBAR HIDE */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* SHADOW HIERARCHY */
        .shadow-sm { box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
        .shadow-md { box-shadow: 0 4px 16px rgba(0,0,0,0.08); }
        .shadow-lg { box-shadow: 0 12px 32px rgba(0,0,0,0.12); }

        /* NAV LINKS */
        .brutalist-nav-link { position: relative; font-weight: 700; letter-spacing: 0.01em; }
        .brutalist-nav-link::after {
            content: ''; position: absolute; bottom: 0; left: 50%; width: 0; height: 3px;
            background: #ffd400; transition: all 250ms ease; transform: translateX(-50%);
        }
        .brutalist-nav-link:hover { background-color: black; color: #ffd400; transform: translateY(-2px); }
        .brutalist-nav-link:hover::after { width: 80%; }
        .brutalist-nav-link:active { transform: scale(0.98); }
        .brutalist-nav-link:focus { outline: 3px solid #ffd400; outline-offset: 2px; }

        /* CARDS */
        .brutalist-card { border: 3px solid black; background: white; box-shadow: 4px 4px 0px 0px black; transition: all 300ms cubic-bezier(0.34, 1.56, 0.64, 1); }
        .brutalist-card:hover { transform: translate(-6px, -6px); box-shadow: 12px 12px 0px 0px black; }
        
        /* BUTTONS */
        .brutalist-btn { font-weight: 800; letter-spacing: 0.02em; cursor: pointer; }
        .brutalist-btn:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 8px 24px rgba(0,0,0,0.2); }
        .brutalist-btn:active { transform: translate(2px, 2px) scale(0.98) !important; box-shadow: 2px 2px 0px black !important; }
        .brutalist-btn:focus { outline: 3px solid #ffd400; outline-offset: 2px; }

        /* SCROLL ANIMATIONS */
        .reveal-on-scroll { opacity: 0; transform: translateY(30px); }
        .reveal-on-scroll.is-visible { opacity: 1; transform: translateY(0); transition: opacity 600ms ease-out, transform 600ms cubic-bezier(0.4, 0, 0.2, 1); }

        /* MENU DRAWER */
        @keyframes slideInRight { from { transform: translateX(100%); } to { transform: translateX(0); } }
        .drawer-open { animation: slideInRight 0.25s cubic-bezier(0.4, 0, 0.2, 1) forwards; }

        /* FORM INPUTS */
        .brutalist-input:focus { outline: none; border-color: #FFD600 !important; box-shadow: 4px 4px 0px #FFD600; }
        input:focus, select:focus, textarea:focus { outline: none; border-color: #ffd400 !important; box-shadow: 4px 4px 0px 0px #ffd400; }
        .condition-option:checked + label { background-color: #FFD600; border-color: black; box-shadow: 4px 4px 0px black; }
        input[type="radio"]:checked + div { background-color: black; color: white; box-shadow: 4px 4px 0px #FFD600; }

        /* TYPOGRAPHY */
        h1, h2, h3 { letter-spacing: -0.02em; line-height: 1.1; }
        p { line-height: 1.6; }
        button, a { min-height: 44px; }

        /* ========================================
           FEATURE CARD ANIMATIONS (Subtle Lift & Glow)
           ======================================== */
        .feature-card {
            transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1),
                        box-shadow 0.3s ease-out;
            will-change: transform;
        }
        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }
        
        /* Icon Behaviors */
        .feature-icon {
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            display: inline-block;
        }
        .feature-card:hover .feature-icon {
            transform: scale(1.1);
        }
    </style>
</head>
<body class="bg-background-light font-display text-black antialiased selection:bg-black selection:text-primary relative overflow-x-hidden">

    <!-- Mobile Menu Drawer (Consistent) -->
    <div id="mobile-menu" class="fixed inset-y-0 right-0 z-50 w-80 translate-x-full border-l-[3px] border-black bg-white shadow-[-8px_0px_0px_0px_rgba(0,0,0,0.1)] md:hidden">
        <div class="flex h-full flex-col">
            <div class="flex items-center justify-between border-b-[3px] border-black bg-primary p-6">
                <h2 class="text-xl font-black uppercase">Menu</h2>
                <button id="close-menu" class="text-black hover:bg-black hover:text-primary p-1 border-[2px] border-transparent hover:border-black"><span class="material-symbols-outlined text-3xl">close</span></button>
            </div>
            <nav class="flex flex-col p-6 gap-4">
                <a href="repairs.html" class="block border-[3px] border-black bg-white p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Repairs</a>
                <a href="inventory.html" class="block border-[3px] border-black bg-white p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Inventory</a>
                <a href="sell.html" class="block border-[3px] border-black bg-primary p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Sell</a>
                <a href="phone-services.html" class="block border-[3px] border-black bg-white p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Phone Services</a>
                <a href="contact.html" class="block border-[3px] border-black bg-white p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Contact</a>
            </nav>
        </div>
    </div>
    <div id="menu-overlay" class="fixed inset-0 z-40 hidden bg-black/50 backdrop-blur-sm"></div>

    <div class="min-h-screen flex flex-col p-4 md:p-8">
        <div class="mx-auto flex w-full max-w-[1400px] flex-col border-[3px] border-black bg-white shadow-[8px_8px_0px_0px_black] relative z-10">
            
            <!-- Marquee -->
            <div class="w-full overflow-hidden border-b-[3px] border-black bg-black py-4">
                <div class="whitespace-nowrap flex animate-marquee-slow w-[200%] text-primary font-bold uppercase tracking-wider text-sm md:text-base">
                    <span class="w-1/2 flex-shrink-0 text-center px-4">MOBILE EXPERTS INC ‚Ä¢ BROOKLYN ‚Ä¢ OPEN 7 DAYS ‚Ä¢ (929) 789-2786 ‚Ä¢ TOP PRICES PAID ‚Ä¢ </span>
                    <span class="w-1/2 flex-shrink-0 text-center px-4">MOBILE EXPERTS INC ‚Ä¢ BROOKLYN ‚Ä¢ OPEN 7 DAYS ‚Ä¢ (929) 789-2786 ‚Ä¢ TOP PRICES PAID ‚Ä¢ </span>
                </div>
            </div>

            <!-- Header -->
            <header class="flex flex-col border-b-[3px] border-black md:flex-row bg-white relative z-40">
                <div class="flex items-center justify-between border-b-[3px] border-black bg-primary px-6 py-5 md:w-auto md:border-b-0 md:border-r-[3px]">
                    <div class="flex items-center gap-3 cursor-pointer hover:animate-glitch" onclick="window.location.href='index.html'">
                        <span class="material-symbols-outlined text-4xl font-black">bolt</span>
                        <h1 class="text-2xl font-black uppercase leading-none tracking-tighter">MOBILE<br>EXPERTS</h1>
                    </div>
                    <button id="open-menu" class="md:hidden p-2 hover:bg-black hover:text-white border-[3px] border-transparent hover:border-black rounded-none">
                        <span class="material-symbols-outlined text-3xl">menu</span>
                    </button>
                </div>
                <nav class="hidden md:flex flex-1 flex-row">
                    <a href="repairs.html" class="flex flex-1 items-center justify-center border-r-[3px] border-black bg-white px-6 py-4 text-lg font-bold uppercase brutalist-nav-link">Repairs</a>
                    <a href="inventory.html" class="flex flex-1 items-center justify-center border-r-[3px] border-black bg-white px-6 py-4 text-lg font-bold uppercase brutalist-nav-link whitespace-nowrap">
                        <span class="mr-2 hidden material-symbols-outlined md:inline-block">inventory_2</span>
                        Inventory
                    </a>
                    <a href="sell.html" class="flex flex-1 items-center justify-center border-r-[3px] border-black bg-primary px-6 py-4 text-lg font-bold uppercase brutalist-nav-link">Sell</a>
                    <a href="phone-services.html" class="flex flex-1 items-center justify-center border-r-[3px] border-black bg-white px-6 py-4 text-lg font-bold uppercase brutalist-nav-link">Services</a>
                    <a href="contact.html" class="flex flex-1 items-center justify-center bg-white px-6 py-4 text-lg font-bold uppercase brutalist-nav-link">Contact</a>
                </nav>
            </header>

            <!-- Hero -->
            <section class="reveal-on-scroll bg-white border-b-[3px] border-black p-12 min-h-[400px] flex flex-col justify-center text-center relative overflow-hidden">
                <div class="absolute top-4 left-0 w-full text-center">
                     <p class="text-xs font-black uppercase tracking-widest bg-primary text-black inline-block px-3 py-1 border-[2px] border-black">Updated: Today 3:45 PM</p>
                </div>
                <h1 class="text-5xl md:text-8xl font-black uppercase leading-[0.9] tracking-tighter mb-4 text-black hover:animate-glitch">Current Stock<br>& Pricing</h1>
                <p class="text-xl md:text-2xl font-bold uppercase mb-4 text-gray-500">See what's available now ‚Ä¢ Updated daily</p>
                
                <div class="flex flex-col sm:flex-row justify-center gap-4 mb-8">
                    <button onclick="document.getElementById('inventory-grid').scrollIntoView({behavior:'smooth'})" class="brutalist-btn bg-black text-white border-[3px] border-black px-8 py-4 text-lg font-bold uppercase hover:bg-primary hover:text-black shadow-[8px_8px_0px_0px_gray] flex items-center justify-center gap-2">
                         View All Devices
                    </button>
                </div>
            </section>

             <!-- Stock Status Bar -->
             <div class="bg-gray-100 border-b-[3px] border-black py-4 px-6 flex flex-wrap justify-center gap-8 text-sm md:text-base font-bold uppercase text-gray-600">
                 <span class="flex items-center gap-2"><div class="w-3 h-3 bg-green-500 rounded-full border border-black"></div> 47 Devices In Stock</span>
                 <span class="flex items-center gap-2"><div class="w-3 h-3 bg-primary rounded-full border border-black"></div> 12 New Arrivals</span>
                 <span class="flex items-center gap-2"><span class="material-symbols-outlined text-lg">verified</span> 90-Day Warranty Included</span>
             </div>

            <!-- Sticky Category Filter -->
            <div class="sticky-filters border-b-[3px] border-black bg-white p-4 flex flex-col md:flex-row gap-4 items-center justify-between shadow-sm z-30 top-0">
                <div class="flex overflow-x-auto gap-2 w-full md:w-auto no-scrollbar pb-2 md:pb-0">
                    <button class="filter-btn active whitespace-nowrap px-4 py-2 border-[2px] border-black bg-black text-white font-bold uppercase text-sm flex items-center gap-1">All Items</button>
                    <button class="filter-btn whitespace-nowrap px-4 py-2 border-[2px] border-black bg-white font-bold uppercase text-sm hover:bg-gray-100 flex items-center gap-1">Smartphones</button>
                    <button class="filter-btn whitespace-nowrap px-4 py-2 border-[2px] border-black bg-white font-bold uppercase text-sm hover:bg-gray-100 flex items-center gap-1">Tablets</button>
                    <button class="filter-btn whitespace-nowrap px-4 py-2 border-[2px] border-black bg-white font-bold uppercase text-sm hover:bg-gray-100 flex items-center gap-1">Laptops</button>
                </div>
                <div class="flex gap-2 w-full md:w-auto">
                    <div class="relative w-full md:w-auto">
                        <select class="w-full md:w-auto border-[2px] border-black bg-white px-4 py-2 font-bold uppercase text-sm focus:ring-0 focus:outline-none appearance-none pr-8 cursor-pointer hover:bg-gray-50">
                            <option>Sort: Newest First</option>
                            <option>Price: Low to High</option>
                            <option>Price: High to Low</option>
                        </select>
                        <span class="material-symbols-outlined absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-sm">expand_more</span>
                    </div>
                </div>
            </div>

            <!-- Featured / New Arrivals (Subtle) -->
            <section class="reveal-on-scroll border-b-[3px] border-black bg-gray-50 p-8">
                <div class="flex items-center gap-4 mb-8">
                     <div class="w-2 h-12 bg-primary border border-black"></div>
                     <h2 class="text-3xl font-black uppercase tracking-tighter text-black">New Arrivals This Week</h2>
                </div>
               
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <!-- Featured Card 1 -->
                    <div class="brutalist-card p-6 flex flex-col relative group bg-white">
                        <div class="absolute top-0 right-0 bg-primary border-l-[2px] border-b-[2px] border-black px-3 py-1 font-black uppercase text-xs z-10">New</div>
                        <div class="w-full aspect-square mb-4 flex items-center justify-center bg-gray-50 border border-gray-200 overflow-hidden group-hover:bg-white transition-colors">
                             <img src="images/iphone-14-pro.png" class="object-contain w-3/4 h-3/4 group-hover:scale-110 transition-transform duration-300 mix-blend-multiply" alt="iPhone 14 Pro">
                        </div>
                        <h3 class="text-xl font-black uppercase mb-1">iPhone 14 Pro Max</h3>
                        <p class="text-xs font-bold text-gray-500 mb-3">128GB ‚Ä¢ Deep Purple ‚Ä¢ Unlocked</p>
                        <div class="flex items-center justify-between mb-4 border-t border-gray-200 pt-3">
                            <span class="text-2xl font-black">$799</span>
                            <span class="text-xs font-bold uppercase text-green-600 bg-green-50 px-2 py-1 border border-green-200 rounded-sm">Excellent</span>
                        </div>
                        <div class="grid grid-cols-2 gap-2 mt-auto">
                            <button onclick="window.location.href='contact.html'" class="bg-primary text-black border-[2px] border-black py-2 font-bold uppercase text-xs hover:bg-black hover:text-white transition-colors">Buy Now</button>
                            <button class="bg-white text-black border-[2px] border-black py-2 font-bold uppercase text-xs hover:bg-gray-50 transition-colors">Details</button>
                        </div>
                    </div>
                </div>
            </section>            </div>
            </section>

            <!-- Price History Script -->
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script>
                // CALCULATOR LOGIC
                let calcState = {
                    step: 1,
                    brand: '',
                    model: '',
                    storage: '128',
                    conditionIdx: 1, // 0=Excellent, 1=Good, 2=Fair, 3=Poor
                    deductions: 0
                };

                const db = {
                    apple: [
                        { name: 'iPhone 15 Pro Max', base: 900, img: 'iphone15promax.png' },
                        { name: 'iPhone 15 Pro', base: 800, img: 'iphone15pro.png' },
                        { name: 'iPhone 14 Pro Max', base: 700, img: 'iphone14promax.png' },
                        { name: 'iPhone 14 Pro', base: 600, img: 'iphone14pro.png' },
                        { name: 'iPhone 13 Pro', base: 450, img: 'iphone13pro.png' },
                        { name: 'iPad Pro M2 12.9"', base: 800, img: 'ipadprom2.png' }
                    ],
                    samsung: [
                        { name: 'Galaxy S24 Ultra', base: 850, img: 's24ultra.png' },
                        { name: 'Galaxy S23 Ultra', base: 600, img: 's23ultra.png' },
                        { name: 'Galaxy Z Fold 5', base: 750, img: 'zfold5.png' }
                    ],
                    google: [
                        { name: 'Pixel 8 Pro', base: 550, img: 'pixel8pro.png' },
                        { name: 'Pixel 7 Pro', base: 350, img: 'pixel7pro.png' }
                    ],
                    oneplus: [{ name: 'OnePlus 11', base: 400 }],
                    motorola: [{ name: 'Razr+ 2023', base: 400 }],
                    other: []
                };

                // NAVIGATION
                function setStep(n) {
                    document.querySelectorAll('.calc-step').forEach(el => el.classList.add('hidden'));
                    document.querySelector(`.calc-step[data-step="${n}"]`).classList.remove('hidden');
                    calcState.step = n;
                }

                function selectBrand(brand) {
                    calcState.brand = brand;
                    renderModels(brand);
                    setStep(2);
                }

                function renderModels(brand) {
                    const grid = document.getElementById('modelGrid');
                    grid.innerHTML = '';
                    const models = db[brand] || [];
                    
                    if (models.length === 0) {
                        grid.innerHTML = '<p class="p-4 font-bold text-gray-500">No models found database. Please visit store.</p>';
                        return;
                    }

                    models.forEach(m => {
                        const btn = document.createElement('button');
                        btn.type = 'button';
                        btn.className = 'border-[3px] border-black p-4 flex items-center justify-between hover:bg-black hover:text-white group transition-all text-left';
                        btn.onclick = () => selectModel(m.name, m.base);
                        btn.innerHTML = `
                            <span class="font-black uppercase">${m.name}</span>
                            <span class="material-symbols-outlined group-hover:translate-x-1 transition-transform">chevron_right</span>
                        `;
                        grid.appendChild(btn);
                    });
                }

                function selectModel(name, price) {
                    calcState.model = name;
                    calcState.basePrice = price;
                    setStep(3);
                }

                // SEARCH
                document.getElementById('modelSearch').addEventListener('input', (e) => {
                    const term = e.target.value.toLowerCase();
                    const buttons = document.querySelectorAll('#modelGrid button');
                    buttons.forEach(btn => {
                        const text = btn.innerText.toLowerCase();
                        btn.style.display = text.includes(term) ? 'flex' : 'none';
                    });
                });

                // CONDITION & CALCULATIONS
                function updateConditionUI(val) {
                    const labels = ["Best ü§©", "Good üôÇ", "Fair üòê", "Poor ü§ï"];
                    const styles = [
                        "bg-green-400 text-black", 
                        "bg-primary text-black", 
                        "bg-orange-400 text-black", 
                        "bg-red-500 text-white"
                    ];
                    
                    // Invert val for array index (Slider 4=Best(0), 0=Poor(3) ?) 
                    // Let's match: Slider 0=Poor, 4=Best.
                    // Array Index: 0=Poor, 1=Fair, 2=Good, 3=Best (Excellent is 4th)
                    // Wait, logic in previous step was: 0=Excellent, 1=Good... ?
                    // Let's standardise: 
                    // Input Range: 0 (Poor) -> 3 (Excellent)
                    
                    const idx = parseInt(val); 
                    const statusEl = document.getElementById('conditionStatus');
                    
                    // Map 0..3 to labels
                    const map = {0: "Broken / Poor", 1: "Fair Condition", 2: "Good Condition", 3: "Like New"};
                    statusEl.textContent = map[idx];
                    
                    // Reset classes
                    statusEl.className = `p-4 text-center font-black uppercase text-xl mb-8 border-[3px] border-black ${styles[3-idx] || 'bg-gray-200'}`;
                    
                    // Update state. Reverse logic: ui index 3 is best, but code state 0=Excellent used in form??
                    // Let's stick to radio buttons logic for state:
                    // Radios: Excellent (0), Good (1), Fair (2), Poor (3)
                    calcState.conditionIdx = 3 - idx; 
                }

                // Sync slider with radio buttons if needed, or just rely on radios as primary in step 4?
                // The UI has BOTH radios and slider? In my HTML replacement I only put Radios in Step 4.
                // Wait, I put Radios in Step 4 replacement.
                // Ah, previous file had slider. My *replacement* content for Step 4 uses Radios.
                // So I should remove `updateConditionUI` slider logic and just use the radio logic.
                
                function calculateFinalOffer() {
                    let price = calcState.basePrice || 100;

                    // Condition Multiplier
                    const multipliers = [1.0, 0.85, 0.60, 0.35]; // Ex, Gd, Fr, Pr
                    price = price * multipliers[calcState.conditionIdx];

                    // Storage Bonus
                    if (calcState.storage === '256') price += 20;
                    if (calcState.storage === '512') price += 40;
                    if (calcState.storage === '1024') price += 60;

                    // Functional Deductions (mock)
                    // In a real app key off the checkboxes
                    const checkboxes = document.querySelectorAll('input[type="checkbox"]:not(:checked)');
                    price = price * Math.pow(0.9, checkboxes.length); // -10% per failed test

                    price = Math.round(price);

                    // Update UI
                    document.getElementById('finalQuoteDisplay').textContent = '$' + price;
                    document.getElementById('quoteDetails').textContent = `${calcState.model} ‚Ä¢ ${calcState.storage}GB`;
                    
                    document.getElementById('breakdownBase').textContent = '$' + calcState.basePrice;
                    document.getElementById('breakdownCondition').textContent = (multipliers[calcState.conditionIdx] * 100) + '%';
                    
                    setStep(6);
                }

                function updateLiveValue() {
                    // Visual feedback only
                    const btn = document.querySelector('button[onclick="calculateFinalOffer()"]');
                    btn.classList.add('scale-105');
                    setTimeout(() => btn.classList.remove('scale-105'), 200);
                }
            </script>

            <style>
                .calc-step { animation: brutalSlide 0.2s linear forwards; }
                @keyframes brutalSlide { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
                .text-stroke-sm { -webkit-text-stroke: 1.5px black; }
            </style>

            <!-- Trade In Values Table -->
            <section class="reveal-on-scroll border-b-[3px] border-black bg-white p-8 md:p-12">
                <h2 class="text-3xl font-black uppercase text-center mb-8">Current Trade-In Prices</h2>
                 <div class="overflow-x-auto">
                    <table class="w-full min-w-[600px] border-collapse border-[3px] border-black text-center font-bold uppercase">
                        <thead>
                            <tr class="bg-black text-white">
                                <th class="p-4 text-left border-r-[3px] border-white">Device</th>
                                <th class="p-4 border-r-[3px] border-white bg-green-600">Excellent</th>
                                <th class="p-4 border-r-[3px] border-white bg-yellow-600">Good</th>
                                <th class="p-4">Fair</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b-[3px] border-black bg-primary/10">
                                <td class="p-4 text-left border-r-[3px] border-black bg-white">iPhone 14 Pro Max</td>
                                <td class="p-4 border-r-[3px] border-black">$700</td>
                                <td class="p-4 border-r-[3px] border-black">$550</td>
                                <td class="p-4">$400</td>
                            </tr>
                            <tr class="border-b-[3px] border-black">
                                <td class="p-4 text-left border-r-[3px] border-black">iPhone 13 Pro</td>
                                <td class="p-4 border-r-[3px] border-black">$500</td>
                                <td class="p-4 border-r-[3px] border-black">$400</td>
                                <td class="p-4">$280</td>
                            </tr>
                             <tr class="border-b-[3px] border-black bg-primary/10">
                                <td class="p-4 text-left border-r-[3px] border-black bg-white">Samsung S23 Ultra</td>
                                <td class="p-4 border-r-[3px] border-black">$550</td>
                                <td class="p-4 border-r-[3px] border-black">$425</td>
                                <td class="p-4">$300</td>
                            </tr>
                             <tr class="border-b-[3px] border-black">
                                <td class="p-4 text-left border-r-[3px] border-black">iPad Pro 12.9" M2</td>
                                <td class="p-4 border-r-[3px] border-black">$800</td>
                                <td class="p-4 border-r-[3px] border-black">$650</td>
                                <td class="p-4">$450</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

             <!-- How It Works Timeline -->
             <section class="reveal-on-scroll border-b-[3px] border-black bg-primary p-12">
                <h2 class="text-4xl font-black uppercase text-center mb-12">3 Easy Steps To Get Paid</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center relative">
                    <!-- Connector line -->
                    <div class="hidden md:block absolute top-12 left-0 w-full h-[3px] bg-black z-0"></div>
                    
                    <div class="relative z-10 flex flex-col items-center">
                        <div class="w-24 h-24 bg-white border-[3px] border-black flex items-center justify-center text-4xl mb-6 shadow-[8px_8px_0px_0px_black]">
                            <span class="material-symbols-outlined text-5xl">calculate</span>
                        </div>
                        <h3 class="text-2xl font-black uppercase mb-2">1. Get Quote</h3>
                        <p class="font-bold">Instant online quote or visit our store. Takes 2 minutes.</p>
                    </div>

                    <div class="relative z-10 flex flex-col items-center">
                        <div class="w-24 h-24 bg-white border-[3px] border-black flex items-center justify-center text-4xl mb-6 shadow-[8px_8px_0px_0px_black]">
                            <span class="material-symbols-outlined text-5xl">inventory_2</span>
                        </div>
                        <h3 class="text-2xl font-black uppercase mb-2">2. Bring It In</h3>
                        <p class="font-bold">Mail it free with prepaid label or drop off at Brooklyn location.</p>
                    </div>

                    <div class="relative z-10 flex flex-col items-center">
                        <div class="w-24 h-24 bg-black text-primary border-[3px] border-black flex items-center justify-center text-4xl mb-6 shadow-[8px_8px_0px_0px_white]">
                            <span class="material-symbols-outlined text-5xl">payments</span>
                        </div>
                        <h3 class="text-2xl font-black uppercase mb-2">3. Get Paid</h3>
                        <p class="font-bold">Walk out with cash, check, or store credit same-day.</p>
                    </div>
                </div>
            </section>

            <!-- Payment Options -->
            <section class="reveal-on-scroll grid grid-cols-1 md:grid-cols-3 border-b-[3px] border-black bg-white">
                <div class="p-12 border-b-[3px] md:border-b-0 md:border-r-[3px] border-black text-center hover:bg-gray-50">
                    <span class="material-symbols-outlined text-6xl mb-4">attach_money</span>
                    <h3 class="text-2xl font-black uppercase mb-2">Instant Cash</h3>
                    <p class="font-bold text-gray-500">Walk out with money same day (In-store only)</p>
                </div>
                <div class="p-12 border-b-[3px] md:border-b-0 md:border-r-[3px] border-black text-center bg-primary/10 hover:bg-primary/20">
                    <span class="material-symbols-outlined text-6xl mb-4">card_giftcard</span>
                    <h3 class="text-2xl font-black uppercase mb-2">Store Credit</h3>
                    <p class="font-bold text-gray-500">Get <span class="bg-black text-primary px-1">20% EXTRA</span> value as store credit</p>
                </div>
                 <div class="p-12 text-center hover:bg-gray-50">
                    <span class="material-symbols-outlined text-6xl mb-4">account_balance</span>
                    <h3 class="text-2xl font-black uppercase mb-2">Check / PayPal</h3>
                    <p class="font-bold text-gray-500">Mailed or transferred within 2 days (Mail-in)</p>
                </div>
            </section>

            <!-- FAQ -->
            <section class="reveal-on-scroll bg-primary p-12 border-b-[3px] border-black">
                <h2 class="text-3xl font-black uppercase text-center mb-8">Selling FAQs</h2>
                 <div class="max-w-3xl mx-auto space-y-4">
                    <div class="bg-white border-[3px] border-black p-4">
                        <details>
                            <summary class="font-black uppercase list-none flex justify-between cursor-pointer">
                                <span>Do I need to include the charger?</span>
                                <span>+</span>
                            </summary>
                            <p class="mt-4 font-bold text-sm">No, we buy devices device-only. However, including original accessories might slightly increase your offer for certain items.</p>
                        </details>
                    </div>
                    <div class="bg-white border-[3px] border-black p-4">
                        <details>
                            <summary class="font-black uppercase list-none flex justify-between cursor-pointer">
                                <span>Do you buy broken phones?</span>
                                <span>+</span>
                            </summary>
                            <p class="mt-4 font-bold text-sm">Yes! We buy phones with cracked screens, bad batteries, and water damage. Just select "Poor" condition to get a quote.</p>
                        </details>
                    </div>
                    <div class="bg-white border-[3px] border-black p-4">
                        <details>
                            <summary class="font-black uppercase list-none flex justify-between cursor-pointer">
                                <span>Is my data safe?</span>
                                <span>+</span>
                            </summary>
                            <p class="mt-4 font-bold text-sm">Absolutely. We perform a DoD-standard specialized data wipe on every device before it goes into inventory. Your privacy is our priority.</p>
                        </details>
                    </div>
                </div>
            </section>

             <!-- Footer CTA -->
             <section class="reveal-on-scroll bg-hot-pink p-12 text-center border-b-[3px] border-black">
                <h2 class="text-4xl font-black uppercase mb-8 text-white tracking-tighter drop-shadow-[4px_4px_0px_black]">Ready to Sell?</h2>
                <div class="flex flex-col md:flex-row justify-center gap-6">
                    <button onclick="document.getElementById('calculator').scrollIntoView()" class="bg-black text-white px-12 py-6 text-xl font-black uppercase hover:bg-white hover:text-black border-[3px] border-black shadow-[8px_8px_0px_0px_white]">Get Instant Quote</button>
                    <button class="bg-transparent text-white px-12 py-6 text-xl font-black uppercase hover:bg-white hover:text-black border-[3px] border-white shadow-[8px_8px_0px_0px_black]">Call: (929) 789-2786</button>
                </div>
            </section>

            <!-- Footer -->
            <div class="bg-black text-white p-4 text-center">
                 <p class="text-xs font-bold uppercase tracking-widest text-white/40">¬© 2026 MOBILE EXPERTS INC.</p>
            </div>
        </div>
    </div>

    <!-- CALL OPT-IN POPUP -->
    <div id="callOptInModal" class="exit-modal-overlay">
      <div class="exit-modal-box">
        <button class="exit-close" onclick="closeCallOptIn()">√ó</button>
        <div class="exit-content">
          <div class="exit-emoji">üìû</div>
          <h2>Get an Instant Quote Over the Phone!</h2>
          <p class="exit-text">Speak with our experts now. <strong>No wait time!</strong></p>
          <a href="tel:9297892786" class="block w-full text-center bg-primary p-4 border-[3px] border-black font-black uppercase shadow-[6px_6px_0px_black] text-xl mb-3 hover:translate-x-1 hover:translate-y-1 hover:shadow-none active:scale-95">
            üì± Call (929) 789-2786
          </a>
          <button onclick="closeCallOptIn()" class="w-full text-center p-2 font-bold uppercase text-sm opacity-60 hover:opacity-100">Maybe Later</button>
        </div>
      </div>
    </div>

    <!-- EXIT INTENT MODAL -->
    <div id="exitModal" class="exit-modal-overlay">
      <div class="exit-modal-box">
        <button class="exit-close" onclick="closeExitModal()">√ó</button>
        <div class="exit-content">
          <div class="exit-emoji">üéÅ</div>
          <h2>Wait! Before you go...</h2>
          <p class="exit-text">Get your quote emailed + <strong>$10 OFF</strong> your first repair!</p>
          <form id="exitForm" onsubmit="submitExitEmail(event)">
            <input type="email" placeholder="Enter your email" required class="exit-email-input">
            <button type="submit" class="exit-submit-btn">üìß Send My Quote + $10 Coupon</button>
          </form>
          <p class="exit-trust">‚úì No spam ‚Ä¢ ‚úì Instant delivery ‚Ä¢ ‚úì Unsubscribe anytime</p>
        </div>
      </div>
    </div>



    <style>
    /* Modal Styles */
    .exit-modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 100; align-items: center; justify-content: center; animation: fadeIn 0.2s ease; }
    .exit-modal-box { background: white; padding: 40px; border: 4px solid black; max-width: 450px; position: relative; box-shadow: 12px 12px 0px black; animation: scaleIn 0.2s ease; }
    .exit-close { position: absolute; top: 10px; right: 15px; font-size: 28px; cursor: pointer; font-weight: 900; transition: transform 0.1s; }
    .exit-close:hover { transform: scale(1.2); }
    .exit-email-input { width: 100%; padding: 14px; border: 3px solid black; margin-bottom: 12px; font-weight: 900; font-size: 14px; }
    .exit-submit-btn { width: 100%; padding: 16px; background: #FFD600; border: 3px solid black; font-weight: 900; box-shadow: 4px 4px 0px black; cursor: pointer; font-size: 14px; }
    .exit-submit-btn:active { transform: translate(2px, 2px); box-shadow: 2px 2px 0px black; }
    .exit-emoji { font-size: 48px; margin-bottom: 16px; }
    .exit-text { font-weight: 700; margin-bottom: 20px; }
    .exit-trust { font-size: 11px; color: #666; margin-top: 12px; }

    /* Chat Widget Premium Styles */
    .chat-widget { position: fixed; bottom: 24px; right: 24px; z-index: 99; }
    .chat-bubble { width: 60px; height: 60px; border-radius: 0; border: 3px solid black; background: #ffd400; box-shadow: 6px 6px 0px black; cursor: pointer; font-size: 24px; display: flex; align-items: center; justify-content: center; position: relative; }
    .chat-bubble:hover { transform: translate(-2px, -2px); box-shadow: 8px 8px 0px black; }
    .chat-bubble:active { transform: translate(2px, 2px); box-shadow: 2px 2px 0px black; }
    .chat-pulse { position: absolute; top: -4px; right: -4px; width: 14px; height: 14px; background: #FF00FF; border: 2px solid black; animation: pulse 2s infinite; }
    .chat-window { position: fixed; bottom: 24px; right: 24px; width: 340px; height: 480px; background: white; border: 4px solid black; display: none; flex-direction: column; box-shadow: 12px 12px 0px black; animation: slideUp 0.2s ease; }
    .chat-header { background: #ffd400; padding: 12px; border-bottom: 3px solid black; display: flex; justify-content: space-between; align-items: center; }
    .chat-messages-area { flex: 1; overflow-y: auto; padding: 16px; background: #fafafa; }
    .chat-input-container { padding: 12px; border-top: 3px solid black; display: flex; gap: 8px; background: white; }
    .chat-input-container input { flex: 1; padding: 12px; border: 3px solid black; font-weight: 700; font-size: 13px; }
    .chat-input-container input:focus { outline: none; box-shadow: 4px 4px 0px #ffd400; }
    .send-btn { background: black; color: #ffd400; border: 3px solid black; padding: 0 16px; cursor: pointer; display: flex; align-items: center; }
    .send-btn:hover { background: #ffd400; color: black; }
    .send-btn:active { transform: scale(0.95); }

    /* Chat Messages */
    .msg-bubble { padding: 12px 16px; border: 2px solid black; margin-bottom: 12px; font-size: 13px; font-weight: 600; line-height: 1.5; animation: fadeIn 0.2s ease; }
    .bot-msg { background: white; box-shadow: 3px 3px 0px black; margin-right: 20px; }
    .user-msg { background: #ffd400; box-shadow: 3px 3px 0px black; margin-left: 20px; text-align: right; }

    /* Quick Reply Buttons */
    .quick-replies { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
    .quick-btn { padding: 8px 12px; font-size: 12px; font-weight: 700; background: white; border: 2px solid black; cursor: pointer; box-shadow: 2px 2px 0px black; white-space: nowrap; }
    .quick-btn:hover { background: #ffd400; transform: translate(-1px, -1px); box-shadow: 3px 3px 0px black; }
    .quick-btn:active { transform: translate(1px, 1px); box-shadow: 1px 1px 0px black; }

    /* FAQ Accordion Animations */
    details summary { cursor: pointer; list-style: none; }
    details summary::-webkit-details-marker { display: none; }
    details[open] summary ~ * { animation: fadeSlide 0.2s ease; }

    /* Subtle Animations */
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes scaleIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeSlide { from { opacity: 0; transform: translateY(-8px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.2); opacity: 0.7; } }

    /* Active Button States */
    button:active, a.block:active { transform: scale(0.98) !important; }
    </style>

    <script>
    const GROQ_KEY = ""; // Placeholder - Add your API key here
    
    // MOBILE MENU
    const openMenuBtn = document.getElementById('open-menu');
    const closeMenuBtn = document.getElementById('close-menu');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuOverlay = document.getElementById('menu-overlay');
    function toggleMenu(show) {
      if (show) { mobileMenu.classList.remove('translate-x-full'); mobileMenu.classList.add('drawer-open'); menuOverlay.classList.remove('hidden'); }
      else { mobileMenu.classList.add('translate-x-full'); mobileMenu.classList.remove('drawer-open'); menuOverlay.classList.add('hidden'); }
    }
    openMenuBtn.onclick = () => toggleMenu(true);
    closeMenuBtn.onclick = () => toggleMenu(false);
    menuOverlay.onclick = () => toggleMenu(false);

    // SCROLL ANIMATIONS
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('is-visible'); });
    }, { threshold: 0.1 });
    document.querySelectorAll('.reveal-on-scroll').forEach(el => observer.observe(el));

    // CALL OPT-IN POPUP (after 5 seconds)
    setTimeout(() => {
      if (!sessionStorage.getItem('callOptInShown')) {
        document.getElementById('callOptInModal').style.display = 'flex';
        sessionStorage.setItem('callOptInShown', 'true');
      }
    }, 5000);
    function closeCallOptIn() { document.getElementById('callOptInModal').style.display = 'none'; }

    // EXIT INTENT
    let exitShown = false;
    document.addEventListener('mouseleave', (e) => {
      if (e.clientY < 10 && !exitShown && !sessionStorage.getItem('exitShown')) {
        document.getElementById('exitModal').style.display = 'flex';
        exitShown = true;
        sessionStorage.setItem('exitShown', 'true');
      }
    });
    function closeExitModal() { document.getElementById('exitModal').style.display = 'none'; }

    // LOCK IN OFFER & EMAIL QUOTE
    function lockInOffer() {
      alert('‚úÖ Your offer has been locked in for 48 hours! Visit our store or call (929) 789-2786 to complete your trade-in.');
    }
    function emailQuote() {
      const email = prompt('Enter your email to receive your quote:');
      if (email && email.includes('@')) {
        alert(`üìß Quote sent to ${email}! Check your inbox.`);
      }
    }


    </script>
    <script src="js/chatbot.js"></script>
</body>
</html>
