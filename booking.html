<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment - Mobile Experts Inc</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Material Symbols -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="stylesheet" href="css/chatbot.css">
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#FFD600",
                        "background-light": "#f8f8f5",
                    },
                    fontFamily: {
                        "display": ["Space Grotesk", "sans-serif"]
                    },
                    animation: {
                        'marquee': 'marquee 30s linear infinite',
                    },
                    keyframes: {
                        marquee: {
                            '0%': { transform: 'translateX(0)' },
                            '100%': { transform: 'translateX(-50%)' },
                        }
                    }
                },
            },
        }
    </script>
    <style>
        .brutalist-nav-link { position: relative; font-weight: 700; }
        .brutalist-nav-link:hover { background-color: black; color: #ffd400; }
        .slot-btn.selected { background: black; color: white; border-color: black; }
        .slot-btn:disabled { opacity: 0.3; cursor: not-allowed; background: #eee; }
    </style>
</head>
<body class="bg-background-light font-display text-black antialiased selection:bg-black selection:text-primary">

    <!-- Mobile Menu Drawer (Consistent) -->
    <div id="mobile-menu" class="fixed inset-y-0 right-0 z-50 w-80 translate-x-full border-l-[3px] border-black bg-white shadow-[-8px_0px_0px_0px_rgba(0,0,0,0.1)] md:hidden pointer-events-none transition-transform duration-300">
        <div class="flex h-full flex-col pointer-events-auto">
            <div class="flex items-center justify-between border-b-[3px] border-black bg-primary p-6">
                <h2 class="text-xl font-black uppercase">Menu</h2>
                <button id="close-menu" class="text-black hover:bg-black hover:text-primary p-1 border-[2px] border-transparent hover:border-black"><span class="material-symbols-outlined text-3xl">close</span></button>
            </div>
            <nav class="flex flex-col p-6 gap-4">
                <a href="index.html" class="block border-[3px] border-black bg-white p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Home</a>
                <a href="repairs.html" class="block border-[3px] border-black bg-white p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Repairs</a>
                <a href="inventory.html" class="block border-[3px] border-black bg-white p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Inventory</a>
                <a href="sell.html" class="block border-[3px] border-black bg-white p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Sell</a>
                <a href="phone-services.html" class="block border-[3px] border-black bg-white p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Services</a>
                <a href="contact.html" class="block border-[3px] border-black bg-white p-4 text-center text-lg font-bold uppercase brutalist-nav-link">Contact</a>
            </nav>
        </div>
    </div>
    <div id="menu-overlay" class="fixed inset-0 z-40 hidden bg-black/50 backdrop-blur-sm"></div>

    <div class="min-h-screen flex flex-col p-4 md:p-8">
        <div class="mx-auto flex w-full max-w-[1000px] flex-col border-[3px] border-black bg-white shadow-[8px_8px_0px_0px_black] relative z-10">
            
            <!-- Header -->
            <header class="flex items-center justify-between border-b-[3px] border-black bg-white p-6 md:p-8">
                <div class="flex items-center gap-3 cursor-pointer" onclick="window.location.href='index.html'">
                    <span class="material-symbols-outlined text-4xl font-black">calendar_month</span>
                    <h1 class="text-2xl font-black uppercase leading-none tracking-tighter">Book<br>Appointment</h1>
                </div>
                <button onclick="window.history.back()" class="p-2 border-[2px] border-black hover:bg-black hover:text-white transition-colors">
                    <span class="material-symbols-outlined text-2xl">close</span>
                </button>
            </header>

            <!-- Booking Wizard -->
            <div id="booking-wizard" class="p-8 md:p-12 bg-gray-50 min-h-[600px] relative">
                
                <!-- Progress -->
                <div class="mb-12 flex items-center justify-center gap-4">
                    <div class="flex flex-col items-center gap-2">
                        <div class="w-10 h-10 rounded-full bg-black text-white flex items-center justify-center font-bold border-[2px] border-black" id="step1-dot">1</div>
                        <span class="text-xs font-bold uppercase">Service</span>
                    </div>
                    <div class="w-16 h-[2px] bg-gray-300"></div>
                    <div class="flex flex-col items-center gap-2">
                        <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center font-bold border-[2px] border-black text-gray-400" id="step2-dot">2</div>
                        <span class="text-xs font-bold uppercase text-gray-400">Date/Time</span>
                    </div>
                    <div class="w-16 h-[2px] bg-gray-300"></div>
                    <div class="flex flex-col items-center gap-2">
                        <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center font-bold border-[2px] border-black text-gray-400" id="step3-dot">3</div>
                        <span class="text-xs font-bold uppercase text-gray-400">Details</span>
                    </div>
                </div>

                <!-- STEP 1: SERVICE -->
                <div class="booking-step" id="step1">
                    <h2 class="text-3xl font-black uppercase text-center mb-8">Select Service Type</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto">
                        <button onclick="selectService('Repair')" class="group p-8 border-[3px] border-black bg-white hover:bg-black hover:text-white transition-all text-left shadow-[6px_6px_0px_black]">
                            <span class="material-symbols-outlined text-5xl mb-4 group-hover:scale-110 transition-transform">build</span>
                            <h3 class="text-xl font-black uppercase mb-1">Device Repair</h3>
                            <p class="text-sm font-bold text-gray-500 group-hover:text-gray-400">Screen, Battery, etc.</p>
                        </button>
                        <button onclick="selectService('Sell')" class="group p-8 border-[3px] border-black bg-white hover:bg-black hover:text-white transition-all text-left shadow-[6px_6px_0px_black]">
                            <span class="material-symbols-outlined text-5xl mb-4 group-hover:scale-110 transition-transform">payments</span>
                            <h3 class="text-xl font-black uppercase mb-1">Sell Device</h3>
                            <p class="text-sm font-bold text-gray-500 group-hover:text-gray-400">Get Cash Offer</p>
                        </button>
                        <button onclick="selectService('Services')" class="group p-8 border-[3px] border-black bg-white hover:bg-black hover:text-white transition-all text-left shadow-[6px_6px_0px_black]">
                            <span class="material-symbols-outlined text-5xl mb-4 group-hover:scale-110 transition-transform">sim_card</span>
                            <h3 class="text-xl font-black uppercase mb-1">Phone Services</h3>
                            <p class="text-sm font-bold text-gray-500 group-hover:text-gray-400">Activations & Bill Pay</p>
                        </button>
                        <button onclick="selectService('Other')" class="group p-8 border-[3px] border-black bg-white hover:bg-black hover:text-white transition-all text-left shadow-[6px_6px_0px_black]">
                            <span class="material-symbols-outlined text-5xl mb-4 group-hover:scale-110 transition-transform">help</span>
                            <h3 class="text-xl font-black uppercase mb-1">Consultation</h3>
                            <p class="text-sm font-bold text-gray-500 group-hover:text-gray-400">General Questions</p>
                        </button>
                    </div>
                </div>

                <!-- STEP 2: DATE & TIME -->
                <div class="booking-step hidden" id="step2">
                    <div class="flex flex-col md:flex-row gap-8">
                        <!-- Calendar Placeholder -->
                        <div class="flex-1 bg-white border-[3px] border-black p-6">
                            <h3 class="font-black uppercase text-xl mb-4 text-center">Select Date</h3>
                            <div class="grid grid-cols-7 gap-2 text-center font-bold mb-2">
                                <div>Su</div><div>Mo</div><div>Tu</div><div>We</div><div>Th</div><div>Fr</div><div>Sa</div>
                            </div>
                            <div class="grid grid-cols-7 gap-2 text-center" id="calendarGrid">
                                <!-- JS Generated -->
                            </div>
                        </div>
                        
                        <!-- Time Slots -->
                        <div class="flex-1">
                            <h3 class="font-black uppercase text-xl mb-4">Available Slots</h3>
                            <div class="space-y-6">
                                <div>
                                    <h4 class="font-bold text-sm uppercase text-gray-500 mb-2">Morning</h4>
                                    <div class="grid grid-cols-3 gap-2">
                                        <button onclick="selectTime('10:00 AM', this)" class="slot-btn border-[2px] border-black bg-white py-2 font-bold hover:bg-primary">10:00 AM</button>
                                        <button onclick="selectTime('10:30 AM', this)" class="slot-btn border-[2px] border-black bg-white py-2 font-bold hover:bg-primary">10:30 AM</button>
                                        <button onclick="selectTime('11:30 AM', this)" class="slot-btn border-[2px] border-black bg-white py-2 font-bold hover:bg-primary">11:30 AM</button>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-bold text-sm uppercase text-gray-500 mb-2">Afternoon</h4>
                                    <div class="grid grid-cols-3 gap-2">
                                        <button onclick="selectTime('12:00 PM', this)" class="slot-btn border-[2px] border-black bg-white py-2 font-bold hover:bg-primary">12:00 PM</button>
                                        <button onclick="selectTime('01:30 PM', this)" class="slot-btn border-[2px] border-black bg-white py-2 font-bold hover:bg-primary">01:30 PM</button>
                                        <button onclick="selectTime('03:45 PM', this)" class="slot-btn border-[2px] border-black bg-white py-2 font-bold hover:bg-primary">03:45 PM</button>
                                        <button onclick="selectTime('04:15 PM', this)" class="slot-btn border-[2px] border-black bg-white py-2 font-bold hover:bg-primary">04:15 PM</button>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-8 flex justify-end">
                                <button onclick="nextStep()" class="bg-black text-white border-[3px] border-black px-8 py-3 font-black uppercase hover:bg-primary hover:text-black disabled:opacity-50" id="confirmTimeBtn" disabled>Continue</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- STEP 3: DETAILS -->
                <div class="booking-step hidden" id="step3">
                    <h2 class="text-3xl font-black uppercase text-center mb-8">Your Info</h2>
                    <form onsubmit="submitBooking(event)" class="max-w-md mx-auto space-y-6">
                        <div>
                            <label class="font-bold uppercase block mb-1">Full Name</label>
                            <input type="text" required class="w-full border-[3px] border-black p-3 font-bold bg-white focus:ring-0 focus:border-primary">
                        </div>
                        <div>
                            <label class="font-bold uppercase block mb-1">Phone Number</label>
                            <input type="tel" required class="w-full border-[3px] border-black p-3 font-bold bg-white focus:ring-0 focus:border-primary">
                        </div>
                        <div>
                            <label class="font-bold uppercase block mb-1">Notes (Device Model, Issue, etc)</label>
                            <textarea class="w-full border-[3px] border-black p-3 font-bold bg-white focus:ring-0 focus:border-primary" rows="3"></textarea>
                        </div>
                        <button type="submit" class="w-full bg-primary text-black border-[3px] border-black px-8 py-4 font-black uppercase text-xl hover:bg-black hover:text-white shadow-[6px_6px_0px_black]">Confirm Booking</button>
                    </form>
                </div>

                <!-- STEP 4: SUCCESS -->
                <div class="booking-step hidden text-center" id="step4">
                    <div class="w-24 h-24 bg-green-500 border-[3px] border-black rounded-full flex items-center justify-center mx-auto mb-6">
                        <span class="material-symbols-outlined text-black text-6xl">check_circle</span>
                    </div>
                    <h2 class="text-4xl font-black uppercase mb-4">You're Booked!</h2>
                    <p class="text-xl font-bold text-gray-600 mb-8">We've sent a confirmation SMS to your phone.</p>
                    
                    <div class="bg-white border-[3px] border-black p-6 max-w-sm mx-auto mb-8 text-left rotate-1 shadow-[8px_8px_0px_black]">
                        <p class="font-bold uppercase text-gray-500 text-xs mb-1">Appointment Details</p>
                        <h3 class="text-2xl font-black uppercase mb-2" id="successService">Repair</h3>
                        <p class="font-bold" id="successTime">Today @ 10:00 AM</p>
                        <p class="font-bold mt-2">1134 Liberty Ave, Brooklyn</p>
                    </div>

                    <a href="index.html" class="inline-block bg-black text-white border-[3px] border-black px-8 py-3 font-black uppercase hover:bg-primary hover:text-black">Back Home</a>
                </div>

            </div>
        </div>
    </div>

    <script>
        let booking = { service: '', date: '', time: '' };
        let currentStep = 1;

        function selectService(s) {
            booking.service = s;
            document.getElementById('successService').textContent = s;
            nextStep();
        }

        function selectTime(t, btn) {
            booking.time = t;
            document.getElementById('successTime').textContent = `Today @ ${t}`;
            
            document.querySelectorAll('.slot-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            document.getElementById('confirmTimeBtn').disabled = false;
        }

        function nextStep() {
            document.getElementById(`step${currentStep}`).classList.add('hidden');
            currentStep++;
            document.getElementById(`step${currentStep}`).classList.remove('hidden');
            updateProgress();
        }

        function updateProgress() {
            if(currentStep >= 2) {
                document.getElementById('step2-dot').classList.replace('bg-white', 'bg-black');
                document.getElementById('step2-dot').classList.replace('text-gray-400', 'text-white');
                document.getElementById('step2-dot').nextElementSibling.classList.replace('text-gray-400', 'text-black');
            }
            if(currentStep >= 3) {
                document.getElementById('step3-dot').classList.replace('bg-white', 'bg-black');
                document.getElementById('step3-dot').classList.replace('text-gray-400', 'text-white');
                document.getElementById('step3-dot').nextElementSibling.classList.replace('text-gray-400', 'text-black');
            }
        }

        function submitBooking(e) {
            e.preventDefault();
            nextStep(); // Goes to step 4 (Success)
        }

        // Init Calendar (Simple Mock)
        const days = Array.from({length: 31}, (_, i) => i + 1);
        const grid = document.getElementById('calendarGrid');
        for(let i=0; i<3; i++) grid.innerHTML += `<div></div>`; // Offset
        days.forEach(d => {
            const div = document.createElement('div');
            div.className = `p-2 font-bold cursor-pointer hover:bg-primary border border-transparent hover:border-black ${d === 15 ? 'bg-black text-white' : ''}`;
            div.textContent = d;
            div.onclick = () => {
                document.querySelectorAll('#calendarGrid div').forEach(el => el.classList.remove('bg-black', 'text-white'));
                div.classList.add('bg-black', 'text-white');
            };
            grid.appendChild(div);
        });
    </script>
     <script src="js/chatbot.js"></script>
</body>
</html>
